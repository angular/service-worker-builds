/**
 * @license Angular v6.1.6
 * (c) 2010-2018 Google, Inc. https://angular.io/
 * License: MIT
 */
!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports,require("rxjs"),require("rxjs/operators"),require("@angular/core"),require("@angular/common")):"function"==typeof define&&define.amd?define("@angular/service-worker",["exports","rxjs","rxjs/operators","@angular/core","@angular/common"],r):r((e.ng=e.ng||{},e.ng.serviceWorker={}),e.rxjs,e.rxjs.operators,e.ng.core,e.ng.common)}(this,function(e,r,t,n,i){"use strict";var o=function(){return(o=Object.assign||function e(r){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=t[o]);return r}).apply(this,arguments)},s="Service workers are disabled or not supported by this browser",a=function(){function e(e){if(this.serviceWorker=e,e){var n=r.fromEvent(e,"controllerchange").pipe(t.map(function(){return e.controller})),i=r.defer(function(){return r.of(e.controller)}),o=r.concat(i,n);this.worker=o.pipe(t.filter(function(e){return!!e})),this.registration=this.worker.pipe(t.switchMap(function(){return e.getRegistration()}));var a=r.fromEvent(e,"message").pipe(t.map(function(e){return e.data})).pipe(t.filter(function(e){return!!e&&!!e.type})).pipe(t.publish());this.events=a,a.connect()}else this.worker=this.events=this.registration=function u(e){return r.defer(function(){return r.throwError(new Error(e))})}(s)}return e.prototype.postMessage=function(e,r){return this.worker.pipe(t.take(1),t.tap(function(t){t.postMessage(o({action:e},r))})).toPromise().then(function(){})},e.prototype.postMessageWithStatus=function(e,r,t){var n=this.waitForStatus(t),i=this.postMessage(e,r);return Promise.all([n,i]).then(function(){})},e.prototype.generateNonce=function(){return Math.round(1e7*Math.random())},e.prototype.eventsOfType=function(e){return this.events.pipe(t.filter(function(r){return r.type===e}))},e.prototype.nextEventOfType=function(e){return this.eventsOfType(e).pipe(t.take(1))},e.prototype.waitForStatus=function(e){return this.eventsOfType("STATUS").pipe(t.filter(function(r){return r.nonce===e}),t.take(1),t.map(function(e){if(!e.status)throw new Error(e.error)})).toPromise()},Object.defineProperty(e.prototype,"isEnabled",{get:function(){return!!this.serviceWorker},enumerable:!0,configurable:!0}),e}(),u=function(){function e(e){if(this.sw=e,this.subscriptionChanges=new r.Subject,!e.isEnabled)return this.messages=r.NEVER,void(this.subscription=r.NEVER);this.messages=this.sw.eventsOfType("PUSH").pipe(t.map(function(e){return e.data})),this.pushManager=this.sw.registration.pipe(t.map(function(e){return e.pushManager}));var n=this.pushManager.pipe(t.switchMap(function(e){return e.getSubscription().then(function(e){return e})}));this.subscription=r.merge(n,this.subscriptionChanges)}return Object.defineProperty(e.prototype,"isEnabled",{get:function(){return this.sw.isEnabled},enumerable:!0,configurable:!0}),e.prototype.requestSubscription=function(e){var r=this;if(!this.sw.isEnabled)return Promise.reject(new Error(s));for(var n={userVisibleOnly:!0},i=this.decodeBase64(e.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),o=new Uint8Array(new ArrayBuffer(i.length)),a=0;a<i.length;a++)o[a]=i.charCodeAt(a);return n.applicationServerKey=o,this.pushManager.pipe(t.switchMap(function(e){return e.subscribe(n)}),t.take(1)).toPromise().then(function(e){return r.subscriptionChanges.next(e),e})},e.prototype.unsubscribe=function(){var e=this;return this.sw.isEnabled?this.subscription.pipe(t.take(1),t.switchMap(function(r){if(null===r)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(function(r){if(!r)throw new Error("Unsubscribe failed!");e.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(s))},e.prototype.decodeBase64=function(e){return atob(e)},e.decorators=[{type:n.Injectable}],e.ctorParameters=function(){return[{type:a}]},e}(),c=function(){function e(e){if(this.sw=e,!e.isEnabled)return this.available=r.NEVER,void(this.activated=r.NEVER);this.available=this.sw.eventsOfType("UPDATE_AVAILABLE"),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED")}return Object.defineProperty(e.prototype,"isEnabled",{get:function(){return this.sw.isEnabled},enumerable:!0,configurable:!0}),e.prototype.checkForUpdate=function(){if(!this.sw.isEnabled)return Promise.reject(new Error(s));var e=this.sw.generateNonce();return this.sw.postMessageWithStatus("CHECK_FOR_UPDATES",{statusNonce:e},e)},e.prototype.activateUpdate=function(){if(!this.sw.isEnabled)return Promise.reject(new Error(s));var e=this.sw.generateNonce();return this.sw.postMessageWithStatus("ACTIVATE_UPDATE",{statusNonce:e},e)},e.decorators=[{type:n.Injectable}],e.ctorParameters=function(){return[{type:a}]},e}(),p=function p(){},f=new n.InjectionToken("NGSW_REGISTER_SCRIPT");
/**
     * @license
     * Copyright Google Inc. All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */function h(e,r,o,s){return function(){var a=e.get(n.ApplicationRef);if(i.isPlatformBrowser(s)&&"serviceWorker"in navigator&&!1!==o.enabled){var u=a.isStable.pipe(t.filter(function(e){return!!e}),t.take(1)).toPromise();navigator.serviceWorker.addEventListener("controllerchange",function(){null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),u.then(function(){return navigator.serviceWorker.register(r,{scope:o.scope})})}}}function l(e,r){return new a(i.isPlatformBrowser(r)&&!1!==e.enabled?navigator.serviceWorker:void 0)}var g=function(){function e(){}return e.register=function(r,t){return void 0===t&&(t={}),{ngModule:e,providers:[{provide:f,useValue:r},{provide:p,useValue:t},{provide:a,useFactory:l,deps:[p,n.PLATFORM_ID]},{provide:n.APP_INITIALIZER,useFactory:h,deps:[n.Injector,f,p,n.PLATFORM_ID],multi:!0}]}},e.decorators=[{type:n.NgModule,args:[{providers:[u,c]}]}],e}();
/**
     * @license
     * Copyright Google Inc. All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
/**
     * @license
     * Copyright Google Inc. All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
/**
     * @license
     * Copyright Google Inc. All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */e.ɵangular_packages_service_worker_service_worker_e=a,e.ɵangular_packages_service_worker_service_worker_a=p,e.ɵangular_packages_service_worker_service_worker_b=f,e.ɵangular_packages_service_worker_service_worker_c=h,e.ɵangular_packages_service_worker_service_worker_d=l,e.ServiceWorkerModule=g,e.SwPush=u,e.SwUpdate=c,Object.defineProperty(e,"__esModule",{value:!0})});