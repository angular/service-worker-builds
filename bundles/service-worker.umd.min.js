/**
 * @license Angular v9.0.0-rc.1+641.sha-ebcd59a
 * (c) 2010-2020 Google LLC. https://angular.io/
 * License: MIT
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/common"),require("@angular/core"),require("rxjs"),require("rxjs/operators")):"function"==typeof define&&define.amd?define("@angular/service-worker",["exports","@angular/common","@angular/core","rxjs","rxjs/operators"],t):t(((e=e||self).ng=e.ng||{},e.ng.serviceWorker={}),e.ng.common,e.ng.core,e.rxjs,e.rxjs.operators)}(this,(function(e,t,r,n,i){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var o=function(){return(o=Object.assign||function e(t){for(var r,n=1,i=arguments.length;n<i;n++)for(var o in r=arguments[n])Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o]);return t}).apply(this,arguments)},s="Service workers are disabled or not supported by this browser",a=function(){function e(e){if(this.serviceWorker=e,e){var t=n.fromEvent(e,"controllerchange").pipe(i.map((function(){return e.controller}))),r=n.defer((function(){return n.of(e.controller)})),o=n.concat(r,t);this.worker=o.pipe(i.filter((function(e){return!!e}))),this.registration=this.worker.pipe(i.switchMap((function(){return e.getRegistration()})));var a=n.fromEvent(e,"message").pipe(i.map((function(e){return e.data}))).pipe(i.filter((function(e){return e&&e.type}))).pipe(i.publish());a.connect(),this.events=a}else this.worker=this.events=this.registration=function u(e){return n.defer((function(){return n.throwError(new Error(e))}))}(s)}return e.prototype.postMessage=function(e,t){return this.worker.pipe(i.take(1),i.tap((function(r){r.postMessage(o({action:e},t))}))).toPromise().then((function(){}))},e.prototype.postMessageWithStatus=function(e,t,r){var n=this.waitForStatus(r),i=this.postMessage(e,t);return Promise.all([n,i]).then((function(){}))},e.prototype.generateNonce=function(){return Math.round(1e7*Math.random())},e.prototype.eventsOfType=function(e){return this.events.pipe(i.filter((function(t){return t.type===e})))},e.prototype.nextEventOfType=function(e){return this.eventsOfType(e).pipe(i.take(1))},e.prototype.waitForStatus=function(e){return this.eventsOfType("STATUS").pipe(i.filter((function(t){return t.nonce===e})),i.take(1),i.map((function(e){if(!e.status)throw new Error(e.error)}))).toPromise()},Object.defineProperty(e.prototype,"isEnabled",{get:function(){return!!this.serviceWorker},enumerable:!0,configurable:!0}),e}(),u=function(){function e(e){if(this.sw=e,this.subscriptionChanges=new n.Subject,!e.isEnabled)return this.messages=n.NEVER,this.notificationClicks=n.NEVER,void(this.subscription=n.NEVER);this.messages=this.sw.eventsOfType("PUSH").pipe(i.map((function(e){return e.data}))),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(i.map((function(e){return e.data}))),this.pushManager=this.sw.registration.pipe(i.map((function(e){return e.pushManager})));var t=this.pushManager.pipe(i.switchMap((function(e){return e.getSubscription()})));this.subscription=n.merge(t,this.subscriptionChanges)}return Object.defineProperty(e.prototype,"isEnabled",{get:function(){return this.sw.isEnabled},enumerable:!0,configurable:!0}),e.prototype.requestSubscription=function(e){var t=this;if(!this.sw.isEnabled)return Promise.reject(new Error(s));for(var r={userVisibleOnly:!0},n=this.decodeBase64(e.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),o=new Uint8Array(new ArrayBuffer(n.length)),a=0;a<n.length;a++)o[a]=n.charCodeAt(a);return r.applicationServerKey=o,this.pushManager.pipe(i.switchMap((function(e){return e.subscribe(r)})),i.take(1)).toPromise().then((function(e){return t.subscriptionChanges.next(e),e}))},e.prototype.unsubscribe=function(){var e=this;return this.sw.isEnabled?this.subscription.pipe(i.take(1),i.switchMap((function(t){if(null===t)throw new Error("Not subscribed to push notifications.");return t.unsubscribe().then((function(t){if(!t)throw new Error("Unsubscribe failed!");e.subscriptionChanges.next(null)}))}))).toPromise():Promise.reject(new Error(s))},e.prototype.decodeBase64=function(e){return atob(e)},e.ɵfac=function t(n){return new(n||e)(r.ɵɵinject(a))},e.ɵprov=r.ɵɵdefineInjectable({token:e,factory:e.ɵfac}),e}(),c=function(){function e(e){if(this.sw=e,!e.isEnabled)return this.available=n.NEVER,void(this.activated=n.NEVER);this.available=this.sw.eventsOfType("UPDATE_AVAILABLE"),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED")}return Object.defineProperty(e.prototype,"isEnabled",{get:function(){return this.sw.isEnabled},enumerable:!0,configurable:!0}),e.prototype.checkForUpdate=function(){if(!this.sw.isEnabled)return Promise.reject(new Error(s));var e=this.sw.generateNonce();return this.sw.postMessageWithStatus("CHECK_FOR_UPDATES",{statusNonce:e},e)},e.prototype.activateUpdate=function(){if(!this.sw.isEnabled)return Promise.reject(new Error(s));var e=this.sw.generateNonce();return this.sw.postMessageWithStatus("ACTIVATE_UPDATE",{statusNonce:e},e)},e.ɵfac=function t(n){return new(n||e)(r.ɵɵinject(a))},e.ɵprov=r.ɵɵdefineInjectable({token:e,factory:e.ɵfac}),e}(),p=function p(){},f=new r.InjectionToken("NGSW_REGISTER_SCRIPT");function l(e,o,s,a){return function(){if(t.isPlatformBrowser(a)&&"serviceWorker"in navigator&&!1!==s.enabled){var u;if(navigator.serviceWorker.addEventListener("controllerchange",(function(){null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})})),"function"==typeof s.registrationStrategy)u=s.registrationStrategy();else{var c=function p(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s}((s.registrationStrategy||"registerWhenStable").split(":")),f=c[0],l=c.slice(1);switch(f){case"registerImmediately":u=n.of(null);break;case"registerWithDelay":u=n.of(null).pipe(i.delay(+l[0]||0));break;case"registerWhenStable":u=e.get(r.ApplicationRef).isStable.pipe(i.filter((function(e){return e})));break;default:throw new Error("Unknown ServiceWorker registration strategy: "+s.registrationStrategy)}}u.pipe(i.take(1)).subscribe((function(){return navigator.serviceWorker.register(o,{scope:s.scope}).catch((function(e){return console.error("Service worker registration failed with:",e)}))}))}}}function h(e,r){return new a(t.isPlatformBrowser(r)&&!1!==e.enabled?navigator.serviceWorker:void 0)}var g=function(){function e(){}return e.register=function(t,n){return void 0===n&&(n={}),{ngModule:e,providers:[{provide:f,useValue:t},{provide:p,useValue:n},{provide:a,useFactory:h,deps:[p,r.PLATFORM_ID]},{provide:r.APP_INITIALIZER,useFactory:l,deps:[r.Injector,f,p,r.PLATFORM_ID],multi:!0}]}},e.ɵmod=r.ɵɵdefineNgModule({type:e}),e.ɵinj=r.ɵɵdefineInjector({factory:function t(r){return new(r||e)},providers:[u,c]}),e}();
/**
     * @license
     * Copyright Google Inc. All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
/**
     * @license
     * Copyright Google Inc. All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
/**
     * @license
     * Copyright Google Inc. All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
e.ServiceWorkerModule=g,e.SwPush=u,e.SwRegistrationOptions=p,e.SwUpdate=c,Object.defineProperty(e,"__esModule",{value:!0})}));