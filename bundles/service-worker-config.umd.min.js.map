{"version":3,"sources":["/home/travis/build/angular/angular/dist/packages-dist/service-worker/bundles/service-worker-config.umd.js"],"names":["global","factory","exports","module","define","amd","ng","serviceWorker","config","this","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","throw","result","done","then","apply","__generator","body","verb","n","v","op","f","TypeError","_","y","t","call","label","ops","pop","trys","length","push","g","sent","return","Symbol","iterator","parseDurationToMs","duration","array","matches","PARSE_TO_PAIRS","exec","map","match","res","PAIR_SPLIT","Error","factor","parseInt","reduce","total","globToRegex","glob","segments","split","reverse","regex","segment","replace","WILD_SINGLE","WILD_OPEN","sha1","str","utf8","words32","stringToWords32","Endian","Big","len","w","Array","_a","a","b","c","d","i","_b","h0","h1","h2","h3","h4","j","rol32","_c","fk","k","temp","add32","_d","_e","byteStringToHexString","words32ToByteString","add32to64","low","high","count","index","endian","wordAt","byteAt","charCodeAt","word","word32ToByteString","String","fromCharCode","hex","toString","toLowerCase","globListToMatcher","globs","patterns","pattern","startsWith","positive","RegExp","substr","file","isMatch","test","joinUrls","endsWith","Little","Generator","fs","baseHref","prototype","process","hashTable","configVersion","appData","processAssetGroups","assetGroups","dataGroups","processDataGroups","seenMap","_this","Set","all","group","fileMatcher","versionedMatcher","allFiles","versionedFiles","plainFiles","resources","files","list","filter","has","forEach","add","previous","hash","read","urls","indexOf","name","installMode","updateMode","concat","url","strategy","cacheConfig","maxSize","maxAge","timeoutMs","timeout","version","undefined","Object","defineProperty"],"mappings":"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","file":"/home/travis/build/angular/angular/dist/packages-dist/service-worker/bundles/service-worker-config.umd.min.js","sourcesContent":["/**\n * @license Angular v5.0.0-rc.0-0f43299\n * (c) 2010-2017 Google, Inc. https://angular.io/\n * License: MIT\n */\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n\ttypeof define === 'function' && define.amd ? define(['exports'], factory) :\n\t(factory((global.ng = global.ng || {}, global.ng.serviceWorker = global.ng.serviceWorker || {}, global.ng.serviceWorker.config = {})));\n}(this, (function (exports) { 'use strict';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nfunction __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator.throw(value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nfunction __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [0, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\n\n/**\n * @license Angular v5.0.0-rc.0-0f43299\n * (c) 2010-2017 Google, Inc. https://angular.io/\n * License: MIT\n */\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nvar PARSE_TO_PAIRS = /([0-9]+[^0-9]+)/g;\nvar PAIR_SPLIT = /^([0-9]+)([dhmsu]+)$/;\n/**\n * @param {?} duration\n * @return {?}\n */\nfunction parseDurationToMs(duration) {\n    var /** @type {?} */ matches = [];\n    var /** @type {?} */ array;\n    while ((array = PARSE_TO_PAIRS.exec(duration)) !== null) {\n        matches.push(array[0]);\n    }\n    return matches\n        .map(function (match) {\n        var /** @type {?} */ res = PAIR_SPLIT.exec(match);\n        if (res === null) {\n            throw new Error(\"Not a valid duration: \" + match);\n        }\n        var /** @type {?} */ factor = 0;\n        switch (res[2]) {\n            case 'd':\n                factor = 86400000;\n                break;\n            case 'h':\n                factor = 3600000;\n                break;\n            case 'm':\n                factor = 60000;\n                break;\n            case 's':\n                factor = 1000;\n                break;\n            case 'u':\n                factor = 1;\n                break;\n            default:\n                throw new Error(\"Not a valid duration unit: \" + res[2]);\n        }\n        return parseInt(res[1]) * factor;\n    })\n        .reduce(function (total, value) { return total + value; }, 0);\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nvar WILD_SINGLE = '[^\\\\/]+';\nvar WILD_OPEN = '(?:.+\\\\/)?';\n/**\n * @param {?} glob\n * @return {?}\n */\nfunction globToRegex(glob) {\n    var /** @type {?} */ segments = glob.split('/').reverse();\n    var /** @type {?} */ regex = '';\n    while (segments.length > 0) {\n        var /** @type {?} */ segment = /** @type {?} */ ((segments.pop()));\n        if (segment === '**') {\n            if (segments.length > 0) {\n                regex += WILD_OPEN;\n            }\n            else {\n                regex += '.*';\n            }\n            continue;\n        }\n        else {\n            var /** @type {?} */ processed = segment.replace(/\\./g, '\\\\.').replace(/\\*/g, WILD_SINGLE);\n            regex += processed;\n            if (segments.length > 0) {\n                regex += '\\\\/';\n            }\n        }\n    }\n    return regex;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * Compute the SHA1 of the given string\n *\n * see http://csrc.nist.gov/publications/fips/fips180-4/fips-180-4.pdf\n *\n * WARNING: this function has not been designed not tested with security in mind.\n *          DO NOT USE IT IN A SECURITY SENSITIVE CONTEXT.\n *\n * Borrowed from \\@angular/compiler/src/i18n/digest.ts\n * @param {?} str\n * @return {?}\n */\nfunction sha1(str) {\n    var /** @type {?} */ utf8 = str;\n    var /** @type {?} */ words32 = stringToWords32(utf8, Endian.Big);\n    var /** @type {?} */ len = utf8.length * 8;\n    var /** @type {?} */ w = new Array(80);\n    var _a = [0x67452301, 0xefcdab89, 0x98badcfe, 0x10325476, 0xc3d2e1f0], a = _a[0], b = _a[1], c = _a[2], d = _a[3], e = _a[4];\n    words32[len >> 5] |= 0x80 << (24 - len % 32);\n    words32[((len + 64 >> 9) << 4) + 15] = len;\n    for (var /** @type {?} */ i = 0; i < words32.length; i += 16) {\n        var _b = [a, b, c, d, e], h0 = _b[0], h1 = _b[1], h2 = _b[2], h3 = _b[3], h4 = _b[4];\n        for (var /** @type {?} */ j = 0; j < 80; j++) {\n            if (j < 16) {\n                w[j] = words32[i + j];\n            }\n            else {\n                w[j] = rol32(w[j - 3] ^ w[j - 8] ^ w[j - 14] ^ w[j - 16], 1);\n            }\n            var _c = fk(j, b, c, d), f = _c[0], k = _c[1];\n            var /** @type {?} */ temp = [rol32(a, 5), f, e, k, w[j]].reduce(add32);\n            _d = [d, c, rol32(b, 30), a, temp], e = _d[0], d = _d[1], c = _d[2], b = _d[3], a = _d[4];\n        }\n        _e = [add32(a, h0), add32(b, h1), add32(c, h2), add32(d, h3), add32(e, h4)], a = _e[0], b = _e[1], c = _e[2], d = _e[3], e = _e[4];\n    }\n    return byteStringToHexString(words32ToByteString([a, b, c, d, e]));\n    var _d, _e;\n}\n/**\n * @param {?} a\n * @param {?} b\n * @return {?}\n */\nfunction add32(a, b) {\n    return add32to64(a, b)[1];\n}\n/**\n * @param {?} a\n * @param {?} b\n * @return {?}\n */\nfunction add32to64(a, b) {\n    var /** @type {?} */ low = (a & 0xffff) + (b & 0xffff);\n    var /** @type {?} */ high = (a >>> 16) + (b >>> 16) + (low >>> 16);\n    return [high >>> 16, (high << 16) | (low & 0xffff)];\n}\n/**\n * @param {?} a\n * @param {?} count\n * @return {?}\n */\nfunction rol32(a, count) {\n    return (a << count) | (a >>> (32 - count));\n}\n/** @enum {number} */\nvar Endian = {\n    Little: 0,\n    Big: 1,\n};\nEndian[Endian.Little] = \"Little\";\nEndian[Endian.Big] = \"Big\";\n/**\n * @param {?} index\n * @param {?} b\n * @param {?} c\n * @param {?} d\n * @return {?}\n */\nfunction fk(index, b, c, d) {\n    if (index < 20) {\n        return [(b & c) | (~b & d), 0x5a827999];\n    }\n    if (index < 40) {\n        return [b ^ c ^ d, 0x6ed9eba1];\n    }\n    if (index < 60) {\n        return [(b & c) | (b & d) | (c & d), 0x8f1bbcdc];\n    }\n    return [b ^ c ^ d, 0xca62c1d6];\n}\n/**\n * @param {?} str\n * @param {?} endian\n * @return {?}\n */\nfunction stringToWords32(str, endian) {\n    var /** @type {?} */ words32 = Array((str.length + 3) >>> 2);\n    for (var /** @type {?} */ i = 0; i < words32.length; i++) {\n        words32[i] = wordAt(str, i * 4, endian);\n    }\n    return words32;\n}\n/**\n * @param {?} str\n * @param {?} index\n * @return {?}\n */\nfunction byteAt(str, index) {\n    return index >= str.length ? 0 : str.charCodeAt(index) & 0xff;\n}\n/**\n * @param {?} str\n * @param {?} index\n * @param {?} endian\n * @return {?}\n */\nfunction wordAt(str, index, endian) {\n    var /** @type {?} */ word = 0;\n    if (endian === Endian.Big) {\n        for (var /** @type {?} */ i = 0; i < 4; i++) {\n            word += byteAt(str, index + i) << (24 - 8 * i);\n        }\n    }\n    else {\n        for (var /** @type {?} */ i = 0; i < 4; i++) {\n            word += byteAt(str, index + i) << 8 * i;\n        }\n    }\n    return word;\n}\n/**\n * @param {?} words32\n * @return {?}\n */\nfunction words32ToByteString(words32) {\n    return words32.reduce(function (str, word) { return str + word32ToByteString(word); }, '');\n}\n/**\n * @param {?} word\n * @return {?}\n */\nfunction word32ToByteString(word) {\n    var /** @type {?} */ str = '';\n    for (var /** @type {?} */ i = 0; i < 4; i++) {\n        str += String.fromCharCode((word >>> 8 * (3 - i)) & 0xff);\n    }\n    return str;\n}\n/**\n * @param {?} str\n * @return {?}\n */\nfunction byteStringToHexString(str) {\n    var /** @type {?} */ hex = '';\n    for (var /** @type {?} */ i = 0; i < str.length; i++) {\n        var /** @type {?} */ b = byteAt(str, i);\n        hex += (b >>> 4).toString(16) + (b & 0x0f).toString(16);\n    }\n    return hex.toLowerCase();\n}\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * Consumes service worker configuration files and processes them into control files.\n *\n * \\@experimental\n */\nvar Generator = (function () {\n    function Generator(fs, baseHref) {\n        this.fs = fs;\n        this.baseHref = baseHref;\n    }\n    /**\n     * @param {?} config\n     * @return {?}\n     */\n    Generator.prototype.process = /**\n     * @param {?} config\n     * @return {?}\n     */\n    function (config) {\n        return __awaiter(this, void 0, void 0, function () {\n            var hashTable, _a;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        hashTable = {};\n                        _a = {\n                            configVersion: 1,\n                            index: joinUrls(this.baseHref, config.index),\n                            appData: config.appData\n                        };\n                        return [4 /*yield*/, this.processAssetGroups(config, hashTable)];\n                    case 1: return [2 /*return*/, (_a.assetGroups = _b.sent(),\n                            _a.dataGroups = this.processDataGroups(config),\n                            _a.hashTable = hashTable,\n                            _a)];\n                }\n            });\n        });\n    };\n    /**\n     * @param {?} config\n     * @param {?} hashTable\n     * @return {?}\n     */\n    Generator.prototype.processAssetGroups = /**\n     * @param {?} config\n     * @param {?} hashTable\n     * @return {?}\n     */\n    function (config, hashTable) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _this = this;\n            var seenMap;\n            return __generator(this, function (_a) {\n                seenMap = new Set();\n                return [2 /*return*/, Promise.all((config.assetGroups || []).map(function (group) { return __awaiter(_this, void 0, void 0, function () {\n                        var _this = this;\n                        var fileMatcher, versionedMatcher, allFiles, versionedFiles, plainFiles, patterns;\n                        return __generator(this, function (_a) {\n                            switch (_a.label) {\n                                case 0:\n                                    fileMatcher = globListToMatcher(group.resources.files || []);\n                                    versionedMatcher = globListToMatcher(group.resources.versionedFiles || []);\n                                    return [4 /*yield*/, this.fs.list('/')];\n                                case 1:\n                                    allFiles = (_a.sent());\n                                    versionedFiles = allFiles.filter(versionedMatcher).filter(function (file) { return !seenMap.has(file); });\n                                    versionedFiles.forEach(function (file) { return seenMap.add(file); });\n                                    plainFiles = allFiles.filter(fileMatcher).filter(function (file) { return !seenMap.has(file); });\n                                    plainFiles.forEach(function (file) { return seenMap.add(file); });\n                                    // Add the hashes.\n                                    return [4 /*yield*/, plainFiles.reduce(function (previous, file) { return __awaiter(_this, void 0, void 0, function () {\n                                            var hash, _a;\n                                            return __generator(this, function (_b) {\n                                                switch (_b.label) {\n                                                    case 0: return [4 /*yield*/, previous];\n                                                    case 1:\n                                                        _b.sent();\n                                                        _a = sha1;\n                                                        return [4 /*yield*/, this.fs.read(file)];\n                                                    case 2:\n                                                        hash = _a.apply(void 0, [_b.sent()]);\n                                                        hashTable[joinUrls(this.baseHref, file)] = hash;\n                                                        return [2 /*return*/];\n                                                }\n                                            });\n                                        }); }, Promise.resolve())];\n                                case 2:\n                                    // Add the hashes.\n                                    // Add the hashes.\n                                    _a.sent();\n                                    patterns = (group.resources.urls || [])\n                                        .map(function (glob) {\n                                        return glob.startsWith('/') || glob.indexOf('://') !== -1 ?\n                                            glob :\n                                            joinUrls(_this.baseHref, glob);\n                                    })\n                                        .map(function (glob) { return globToRegex(glob); });\n                                    return [2 /*return*/, {\n                                            name: group.name,\n                                            installMode: group.installMode || 'prefetch',\n                                            updateMode: group.updateMode || group.installMode || 'prefetch',\n                                            urls: (/** @type {?} */ ([]))\n                                                .concat(plainFiles)\n                                                .concat(versionedFiles)\n                                                .map(function (url) { return joinUrls(_this.baseHref, url); }),\n                                            patterns: patterns,\n                                        }];\n                            }\n                        });\n                    }); }))];\n            });\n        });\n    };\n    /**\n     * @param {?} config\n     * @return {?}\n     */\n    Generator.prototype.processDataGroups = /**\n     * @param {?} config\n     * @return {?}\n     */\n    function (config) {\n        var _this = this;\n        return (config.dataGroups || []).map(function (group) {\n            var /** @type {?} */ patterns = group.urls\n                .map(function (glob) {\n                return glob.startsWith('/') || glob.indexOf('://') !== -1 ?\n                    glob :\n                    joinUrls(_this.baseHref, glob);\n            })\n                .map(function (glob) { return globToRegex(glob); });\n            return {\n                name: group.name,\n                patterns: patterns,\n                strategy: group.cacheConfig.strategy || 'performance',\n                maxSize: group.cacheConfig.maxSize,\n                maxAge: parseDurationToMs(group.cacheConfig.maxAge),\n                timeoutMs: group.cacheConfig.timeout && parseDurationToMs(group.cacheConfig.timeout),\n                version: group.version !== undefined ? group.version : 1,\n            };\n        });\n    };\n    return Generator;\n}());\n/**\n * @param {?} globs\n * @return {?}\n */\nfunction globListToMatcher(globs) {\n    var /** @type {?} */ patterns = globs.map(function (pattern) {\n        if (pattern.startsWith('!')) {\n            return {\n                positive: false,\n                regex: new RegExp('^' + globToRegex(pattern.substr(1)) + '$'),\n            };\n        }\n        else {\n            return {\n                positive: true,\n                regex: new RegExp('^' + globToRegex(pattern) + '$'),\n            };\n        }\n    });\n    return function (file) { return matches(file, patterns); };\n}\n/**\n * @param {?} file\n * @param {?} patterns\n * @return {?}\n */\nfunction matches(file, patterns) {\n    var /** @type {?} */ res = patterns.reduce(function (isMatch, pattern) {\n        if (pattern.positive) {\n            return isMatch || pattern.regex.test(file);\n        }\n        else {\n            return isMatch && !pattern.regex.test(file);\n        }\n    }, false);\n    return res;\n}\n/**\n * @param {?} a\n * @param {?} b\n * @return {?}\n */\nfunction joinUrls(a, b) {\n    if (a.endsWith('/') && b.startsWith('/')) {\n        return a + b.substr(1);\n    }\n    else if (!a.endsWith('/') && !b.startsWith('/')) {\n        return a + '/' + b;\n    }\n    return a + b;\n}\n\nexports.Generator = Generator;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n//# sourceMappingURL=service-worker-config.umd.js.map\n"]}