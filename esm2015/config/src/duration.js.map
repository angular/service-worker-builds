{"version":3,"file":"duration.js","sourceRoot":"","sources":["../../../../../packages/service-worker/config/src/duration.ts"],"names":[],"mappings":";;;;;;;;;;;AAQA,uBAAM,cAAc,GAAG,kBAAkB,CAAC;AAC1C,uBAAM,UAAU,GAAG,sBAAsB,CAAC;;;;;AAE1C,MAAM,4BAA4B,QAAgB;IAChD,uBAAM,OAAO,GAAa,EAAE,CAAC;IAE7B,qBAAI,KAA2B,CAAC;IAChC,OAAO,CAAC,KAAK,GAAG,cAAc,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,KAAK,IAAI,EAAE,CAAC;QACxD,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;KACxB;IACD,MAAM,CAAC,OAAO;SACT,GAAG,CAAC,KAAK,CAAC,EAAE;QACX,uBAAM,GAAG,GAAG,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QACnC,EAAE,CAAC,CAAC,GAAG,KAAK,IAAI,CAAC,CAAC,CAAC;YACjB,MAAM,IAAI,KAAK,CAAC,yBAAyB,KAAK,EAAE,CAAC,CAAC;SACnD;QACD,qBAAI,MAAM,GAAW,CAAC,CAAC;QACvB,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACf,KAAK,GAAG;gBACN,MAAM,GAAG,QAAQ,CAAC;gBAClB,KAAK,CAAC;YACR,KAAK,GAAG;gBACN,MAAM,GAAG,OAAO,CAAC;gBACjB,KAAK,CAAC;YACR,KAAK,GAAG;gBACN,MAAM,GAAG,KAAK,CAAC;gBACf,KAAK,CAAC;YACR,KAAK,GAAG;gBACN,MAAM,GAAG,IAAI,CAAC;gBACd,KAAK,CAAC;YACR,KAAK,GAAG;gBACN,MAAM,GAAG,CAAC,CAAC;gBACX,KAAK,CAAC;YACR;gBACE,MAAM,IAAI,KAAK,CAAC,8BAA8B,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;SAC3D;QACD,MAAM,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,MAAM,CAAC;KAClC,CAAC;SACD,MAAM,CAAC,CAAC,KAAK,EAAE,KAAK,EAAE,EAAE,CAAC,KAAK,GAAG,KAAK,EAAE,CAAC,CAAC,CAAC;CACjD","sourcesContent":["/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nconst PARSE_TO_PAIRS = /([0-9]+[^0-9]+)/g;\nconst PAIR_SPLIT = /^([0-9]+)([dhmsu]+)$/;\n\nexport function parseDurationToMs(duration: string): number {\n  const matches: string[] = [];\n\n  let array: RegExpExecArray|null;\n  while ((array = PARSE_TO_PAIRS.exec(duration)) !== null) {\n    matches.push(array[0]);\n  }\n  return matches\n      .map(match => {\n        const res = PAIR_SPLIT.exec(match);\n        if (res === null) {\n          throw new Error(`Not a valid duration: ${match}`);\n        }\n        let factor: number = 0;\n        switch (res[2]) {\n          case 'd':\n            factor = 86400000;\n            break;\n          case 'h':\n            factor = 3600000;\n            break;\n          case 'm':\n            factor = 60000;\n            break;\n          case 's':\n            factor = 1000;\n            break;\n          case 'u':\n            factor = 1;\n            break;\n          default:\n            throw new Error(`Not a valid duration unit: ${res[2]}`);\n        }\n        return parseInt(res[1]) * factor;\n      })\n      .reduce((total, value) => total + value, 0);\n}\n"]}